<!doctype html>
<html>
<head>
  <title>Submarine</title>
  <link rel="stylesheet" type="text/css" href="../static/css/style.css" />
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700' rel='stylesheet' type='text/css'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css">
  <link rel="stylesheet" href="../static/css/npm.css" />
</head>
<body>
  <div class="wrapper">

      <section class="content">
        <p><a href="index.html">table of contents</a></p>
      <h1 id="install-packages">install packages</h1>
<p>npm hosts <em>drillions</em>, even <em>ba-gillions</em>, of useful packages.  Let&#39;s jump on <a href="http://www.npmjs.com">npmjs.com</a> and search for <em>colors</em>.</p>
<p>When I searched for <em>colors</em>, I immediately found the <a href="https://www.npmjs.com/package/colors">colors</a> package.  It looks like this will help us a great deal.</p>
<p>To install it, run the command <code>npm install --save colors</code>.  This installs your package <em>to the current project</em>.  More accurately, it install <code>colors</code> to the current folder if it has a package.json, or up your folder tree to the nearest folder that contains a package.json.</p>
<p>Two things to notice:</p>
<ol>
<li>Run a <code>ls</code> to see the current directory.  Do you see the <code>node_modules</code> folder?  This is where project packages are installed.</li>
<li>Open up your package.json file.  Do you see <code>dependencies</code> section?  Here, you will see <code>colors@some-version</code>.  npm supports <a href="https://docs.npmjs.com/files/package.json#version">semver versioning</a>.  Don&#39;t worry if you&#39;re not familiar with it now.  It will be easy to pick up with practice.</li>
</ol>
<p>There are <em>more</em> ways to install packages, such as simply editing your package.json with package names and versions, then running <code>npm install</code>, or <code>npm i</code> for short.  We won&#39;t touch all of those now.  Let&#39;s keep moving.</p>
<h1 id="use-packages">use packages</h1>
<p>Let&#39;s create a file to use our package, <code>index.js</code>.  Create input the following code into the file:</p>
<pre><code class="lang-js">var colors = require(&#39;colors&#39;);
console.log(&#39;npm is GREAT&#39;.rainbow);
</code></pre>
<p>Now, run <code>node index.js</code>.  Whoa! You saw <span style='font-weight:bold;'><span style='color:#FF0000;'>n</span><span style='color:#FF7F00;'>p</span><span style='color:#FFFF00;'>m</span> <span style='color:#00FF00;'>i</span><span style='color:#00FF7F;'>s</span> <span style='color:#007FFF;'>G</span><span style='color:#0000FF;'>R</span><span style='color:#7F00FF;'>E</span><span style='color:#FF00FE;'>A</span><span style='color:#FF007F;'>T</span></span>, right? Beautiful!  But you know what we really want?  Let&#39;s allow our user to add arguments to the program and make those inputs colorful too.  That is, let&#39;s call <code>node index.js i love rainbows</code> and get the text <span style='font-weight:bold;'><span style='color:#FF0000;'>i</span> <span style='color:#FFCC00;'>l</span><span style='color:#CBFF00;'>o</span><span style='color:#65FF00;'>v</span><span style='color:#00FF00;'>e</span> <span style='color:#00FFCC;'>r</span><span style='color:#00CBFF;'>a</span><span style='color:#0065FF;'>i</span><span style='color:#0000FF;'>n</span><span style='color:#6500FF;'>b</span><span style='color:#CC00FF;'>o</span><span style='color:#FF00CB;'>w</span><span style='color:#FF0065;'>s</span></span> back.  Try the following code then run <code>node index.js i love rainbows</code>.  Don&#39;t worry if you don&#39;t understand the code.</p>
<pre><code class="lang-js">var colors = require(&#39;colors&#39;);
var args = process.argv.slice(2);
var colorArgs = args.map(function(arg) {
    return arg.rainbow;
});
console.log(colorArgs.join(&#39; &#39;));
</code></pre>
<p>Cool.  Now you can clearly see how npm and node work together.</p>
<p>What if you want to uninstall the colors package?</p>
<ol>
<li>run <code>npm remove colors</code>.  you should see a confirmation that the package was remove or unbuilt.</li>
<li>check your package.json.  colors is still listed in the dependencies section.  didn&#39;t we just remove it?  sure did, but to persist changes to our package.json, remember that we need to couple install/remove commands with a <code>--save</code> option.</li>
<li>run <code>npm remove colors --save</code> and the entry will be removed.</li>
</ol>
<p>Running our app will now break.  When node tries to find <code>colors</code>, nothing will be present.  So, let&#39;s reinstall our package.  However, let&#39;s pretend that the latest version of <code>colors</code> doesn&#39;t work with your application.  In many cases, you may want an <em>older</em> version of the package.  By looking at the colors <a href="https://github.com/Marak/colors.js/releases">github releases</a>, we can see that there is a version 1.1.1, and we know that it will work with our app.</p>
<ol>
<li>run <code>npm i --save colors@1.1.1</code></li>
</ol>
<p>Boom!  Done!  We can <code>require(&#39;colors&#39;)</code> and rest assured that version 1.1.1 will be used in our program.</p>
<p>Note: not all packages use github, nor do packages that do you github all use the releases section.  many large, popular projects do, however, which makes it a handy tool to inspect package history and versions.</p>
<h1 id="node-modules">node modules</h1>
<p>Let&#39;s talk briefly about the node_modules folder.  Again, everything you install in a project get&#39;s install here.  Feel free to navigate into the <code>node_modules/</code> folder and look around.</p>
<p>When your program has many depedencies, sometimes it&#39;s helpful see all of the packages that are helping to run your app behind the scenes.  To help demonstrate, install the package <code>nomnom</code> per your learning above, then run <code>npm ls</code>.  This will show the dependency tree as npm scans your <code>node_modules</code> folder.</p>
<pre><code class="lang-bash">$ npm ls
t@1.0.0 /Users/cdieringer/node/t
├── colors@1.1.1
└─┬ nomnom@1.8.1
  ├─┬ chalk@0.4.0
  │ ├── ansi-styles@1.0.0
  │ ├── has-color@0.1.7
  │ └── strip-ansi@0.1.1
  └── underscore@1.6.0
</code></pre>
<p>Look at that. <code>colors</code> has <em>no depdendencies</em>.  That generally means a package is written in pure javascript, or has a build process (which is an advanced topic).  <code>nomnom</code> depends on <code>chalk</code>, and we can see that <code>chalk</code> depends on three other packages.  I wonder what <code>chalk</code> does?  Turns out, almost <em>the same thing</em> as <code>colors</code>!  Many similiar packages exist on npm, which is often helpful is one doesn&#39;t do exactly what you expect.  If you need to keep the size of your application down, perhaps if you were building a browser application, you may try and eliminate redundancy.  More on that later.</p>

        <div class="navlinks">
        </div>
    </section>
  </div>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
</body>
</html>
